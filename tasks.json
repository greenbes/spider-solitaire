{
  "version": "1.0",
  "lastUpdated": "2026-01-18",
  "tasks": [
    {
      "id": 1,
      "title": "Add Hint button to suggest next move with card highlighting",
      "type": "feature",
      "priority": "medium",
      "complexity": "medium-high",
      "status": "completed",
      "description": "Add a 'Hint' button to the toolbar that analyzes the current game state and highlights a recommended move by visually emphasizing the source card stack and target column.",
      "subtasks": [
        {
          "id": "1.1",
          "title": "Create hint detection logic",
          "status": "completed",
          "file": "src/game/hints.ts",
          "details": "Find all valid moves by iterating columns and movable sequences. Prioritize moves: same-suit building > revealing face-down cards > any valid move. Return { fromColumnId, cardIndex, toColumnId } or null if no moves."
        },
        {
          "id": "1.2",
          "title": "Add Hint type definitions",
          "status": "completed",
          "file": "src/game/types.ts",
          "details": "Add Hint interface: { fromColumnId: string, cardIndex: number, toColumnId: string }. Add onHint callback to AppShellProps and GameToolbarProps."
        },
        {
          "id": "1.3",
          "title": "Add Hint button to toolbar",
          "status": "completed",
          "file": "src/components/shell/GameToolbar.tsx",
          "details": "Add button between Undo and Deal using Lightbulb icon from lucide-react. Wire up onHint callback."
        },
        {
          "id": "1.4",
          "title": "Add hint state to App",
          "status": "completed",
          "file": "src/App.tsx",
          "details": "Track activeHint: Hint | null in local state. Clear hint on any game action (move, deal, undo, new game). Pass hint down to GameBoard."
        },
        {
          "id": "1.5",
          "title": "Add visual highlighting for hints",
          "status": "completed",
          "file": "src/components/game-board/",
          "details": "Highlight source cards with pulsing amber border/glow. Highlight target column with amber drop indicator. Clear highlight when hint is dismissed or move is made."
        }
      ],
      "relatedFiles": [
        "src/game/moves.ts",
        "src/game/types.ts",
        "src/components/shell/GameToolbar.tsx",
        "src/components/game-board/Card.tsx",
        "src/App.tsx"
      ],
      "createdAt": "2026-01-18",
      "completedAt": "2026-01-18",
      "dependencies": []
    },
    {
      "id": 2,
      "title": "Move Hint button to left of Moves indicator",
      "type": "ui",
      "priority": "low",
      "complexity": "low",
      "status": "completed",
      "description": "Relocate the Hint button from its current position (between Undo and Deal) to the right side of the toolbar, placing it immediately before the 'Moves: X' statistics display.",
      "subtasks": [
        {
          "id": "2.1",
          "title": "Move Hint button in GameToolbar.tsx",
          "status": "completed",
          "file": "src/components/shell/GameToolbar.tsx",
          "details": "Relocate Hint button from left button group to right section, positioning it before the statistics display."
        }
      ],
      "relatedFiles": [
        "src/components/shell/GameToolbar.tsx"
      ],
      "createdAt": "2026-01-18",
      "completedAt": "2026-01-18",
      "dependencies": [1]
    },
    {
      "id": 3,
      "title": "Flash hint cards 10 times then auto-dismiss",
      "type": "enhancement",
      "priority": "low",
      "complexity": "low-medium",
      "status": "completed",
      "description": "When the user presses the Hint button, animate the highlighted cards with 10 flashes (pulse cycles) then automatically clear the hint state. Currently hints persist until the user makes a move.",
      "subtasks": [
        {
          "id": "3.1",
          "title": "Add flash counter state",
          "status": "completed",
          "file": "src/App.tsx",
          "details": "Track number of flash cycles using state or ref."
        },
        {
          "id": "3.2",
          "title": "Implement timed flash effect",
          "status": "completed",
          "file": "src/App.tsx",
          "details": "Use useEffect with setInterval to count 10 pulse cycles (matching CSS animation duration), then call setActiveHint(null) to auto-dismiss."
        }
      ],
      "relatedFiles": [
        "src/App.tsx",
        "src/components/game-board/Card.tsx"
      ],
      "createdAt": "2026-01-18",
      "completedAt": "2026-01-18",
      "dependencies": [1]
    },
    {
      "id": 4,
      "title": "Create static errors.html with generic error message",
      "type": "ui",
      "priority": "medium",
      "complexity": "low",
      "status": "completed",
      "description": "Create a static errors.html file in the root directory (same location as index.html) that displays 'Something went wrong'. Match the app's design system (stone background, DM Sans font, centered layout). No buttons, branding, or logos.",
      "subtasks": [],
      "relatedFiles": [
        "errors.html",
        "index.html"
      ],
      "createdAt": "2026-01-18",
      "completedAt": "2026-01-18",
      "dependencies": []
    },
    {
      "id": 5,
      "title": "Create justfile with S3 deploy action",
      "type": "devops",
      "priority": "medium",
      "complexity": "low",
      "status": "completed",
      "description": "Create a justfile with a 'deploy' recipe that uploads the built application (dist/) and support files (errors.html) to an S3 bucket. Read bucket name from S3_BUCKET environment variable. Assume app is already built.",
      "subtasks": [
        {
          "id": "5.1",
          "title": "Create justfile with default list recipe",
          "status": "completed",
          "file": "justfile",
          "details": "Create justfile with default recipe that lists available commands."
        },
        {
          "id": "5.2",
          "title": "Add deploy recipe for S3 upload",
          "status": "completed",
          "file": "justfile",
          "details": "Add deploy recipe that syncs dist/ and errors.html to S3 bucket from $S3_BUCKET env var."
        }
      ],
      "relatedFiles": [
        "justfile"
      ],
      "createdAt": "2026-01-18",
      "completedAt": "2026-01-18",
      "dependencies": []
    },
    {
      "id": 6,
      "title": "Update New Game dialog defaults and closability",
      "type": "ui",
      "priority": "medium",
      "complexity": "low-medium",
      "status": "completed",
      "description": "Change the New Game dialog so that 2 Suits is the default difficulty instead of 4 Suits. Prevent users from closing the dialog (via X button, Cancel button, or backdrop click) unless a game is already in progress.",
      "subtasks": [
        {
          "id": "6.1",
          "title": "Change default difficulty to 2 Suits",
          "status": "completed",
          "file": "src/components/shell/NewGameModal.tsx",
          "details": "Update useState default from 4 to 2. Move 'Default' badge from 4 Suits option to 2 Suits option."
        },
        {
          "id": "6.2",
          "title": "Add gameInProgress prop to NewGameModal",
          "status": "completed",
          "file": "src/components/shell/NewGameModal.tsx",
          "details": "Add optional gameInProgress prop to interface. Compute canClose based on gameInProgress."
        },
        {
          "id": "6.3",
          "title": "Conditionally render close controls",
          "status": "completed",
          "file": "src/components/shell/NewGameModal.tsx",
          "details": "Only show X button and Cancel button when canClose is true. Only allow backdrop click to close when canClose is true."
        },
        {
          "id": "6.4",
          "title": "Thread gameInProgress through component tree",
          "status": "completed",
          "file": "src/components/shell/AppShell.tsx",
          "details": "Add gameInProgress prop to AppShellProps. Pass it through to NewGameModal."
        },
        {
          "id": "6.5",
          "title": "Pass gameStarted state from App",
          "status": "completed",
          "file": "src/App.tsx",
          "details": "Pass state.gameStarted as gameInProgress prop to AppShell."
        }
      ],
      "relatedFiles": [
        "src/components/shell/NewGameModal.tsx",
        "src/components/shell/AppShell.tsx",
        "src/App.tsx"
      ],
      "createdAt": "2026-01-18",
      "completedAt": "2026-01-18",
      "dependencies": []
    }
  ]
}
